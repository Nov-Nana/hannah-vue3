import{d as z,A as F,a3 as Q,s as V,a1 as D,q as n,b as H,c,m as e,C as r,n as O,aa as x,v as M,ab as P,ac as U,$ as f,F as p,E as g,f as G,P as R,o as l,l as Y,u as j,O as J,Q as K}from"./index-d769c587.js";import{b as W,c as X,d as Z}from"./music-d17f1969.js";import{M as ss}from"./index-48705d66.js";import{_ as es}from"./_plugin-vue_export-helper-c27b6911.js";const $=_=>(J("data-v-43cd2e32"),_=_(),K(),_),ts={class:"header-pic"},as=["src"],os=$(()=>e("div",{class:"boutique-btn"},[e("span",null,"👑"),M(" 精品歌单 ")],-1)),ns={class:"list-desribe"},ls={class:"list-sub-des"},is={class:"song-list-menu"},cs={class:"all-song-list-dropdown-wrp"},us=$(()=>e("i",{class:"iconfont icon-fangxiang-xiangyou"},null,-1)),rs={class:"all-menu-wrap"},ds={class:"menu-categoriess-wrp"},vs={class:"category-menu"},ps={class:"song-list-menus"},gs=["onClick"],_s={class:"hot-list-menu-wrp"},ms=["onClick"],hs={class:"song-list-wrp"},fs=z({__name:"musicSongList",setup(_){F(()=>{W().then(a=>{L.value=a.tags}),X().then(a=>{const{all:s,sub:o,categories:t}=a;d.value=s,w.value=t,k.value=A(o)}),h()}),Q(()=>{V(d,a=>{d.value=a})});const B=D(),L=n(),d=n({name:""}),k=n(),w=n(),T={语种:"icon-wangluo",风格:"icon-iconfontfengge",场景:"icon-kafei",情感:"icon-xiaolianxiaolian",主题:"icon-zhuti"},i=n("全部歌单"),m=n(!1),y=n(),u=n({coverImgUrl:"",name:"",description:""}),C=n(1),S=n(0),b=n(0),A=a=>{let s={语种:[],风格:[],场景:[],情感:[],主题:[]};return a.forEach(o=>{o.category===0?s.语种.push(o):o.category===1?s.风格.push(o):o.category===2?s.场景.push(o):o.category===3?s.情感.push(o):s.主题.push(o)}),s},I=a=>{const{name:s}=a;i.value=s,h()},E=()=>{i.value="全部歌单",h()},N=a=>{b.value=(a-1)*50,h()},h=()=>{const a={cat:i.value==="全部歌单"?void 0:i.value,limit:void 0,offset:b.value};Z(a).then(s=>{y.value=s.playlists,u.value=y.value[0],u.value.description=u.value.description.split(`
`)[0],S.value=Math.floor(s.total/50)+1})},q=()=>{B.push({path:R.MUSIC_QUALITYSONGLIST,query:{cat:i.value}})};return(a,s)=>{const o=H("n-pagination");return l(),c("div",{class:"go-music-song-list",onClick:s[4]||(s[4]=t=>m.value=!1)},[e("div",{class:"song-list-header-wrp",style:O({backgroundImage:`url(${u.value.coverImgUrl})`})},[e("div",ts,[e("img",{src:u.value.coverImgUrl?u.value.coverImgUrl:""},null,8,as)]),e("div",{class:"header-text",onClick:q},[os,e("div",ns,r(u.value.name),1),e("div",ls,r(u.value.description),1)])],4),e("div",is,[e("div",cs,[e("div",{class:"all-song-list-btn",onClick:[s[0]||(s[0]=x(()=>{},["stop"])),s[1]||(s[1]=t=>m.value=!m.value)]},[M(r(i.value),1),us]),P(e("div",{class:"all-song-list-dropdown",onClick:s[2]||(s[2]=x(()=>{},["stop"]))},[P(e("div",rs,[e("div",{class:f(["all-menu",{active:i.value==="全部歌单"}]),onClick:E},r(d.value.name),3)],512),[[U,d.value]]),(l(!0),c(p,null,g(w.value,t=>(l(),c("div",ds,[e("div",vs,[e("i",{class:f(["iconfont icon-wangluo",T[t]])},null,2),e("span",null,r(t),1)]),e("div",ps,[(l(!0),c(p,null,g(k.value[t],v=>(l(),c("div",{class:"menu-item",onClick:ys=>I(v),key:v.id},[e("span",{class:f({active:i.value===v.name})},r(v.name),3)],8,gs))),128))])]))),256))],512),[[U,m.value]])]),e("div",_s,[(l(!0),c(p,null,g(L.value,t=>(l(),c("div",{class:f(["hot-catlist",{active:i.value===t.name}]),onClick:v=>I(t),key:t.id},r(t.name),11,ms))),128))])]),e("div",hs,[(l(!0),c(p,null,g(y.value,t=>(l(),Y(j(ss),{songlist:t},null,8,["songlist"]))),256)),(l(),c(p,null,g(10,t=>e("div",{style:{width:"20%",height:"0"},key:t})),64)),G(o,{"onUpdate:page":[N,s[3]||(s[3]=t=>C.value=t)],page:C.value,"page-count":S.value},null,8,["page","page-count"])])])}}});const Ss=es(fs,[["__scopeId","data-v-43cd2e32"]]);export{Ss as default};
